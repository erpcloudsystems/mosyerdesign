(function () {
	'use strict';

	frappe.templates['navbar'] = '<header class="navbar navbar-expand sticky-top" role="navigation">  <div class="container-fluid row" style="padding: 0 27px;">   <div class="col-lg-2 flex align-items-center justify-content-between" style="padding-left: 0;padding-right: 0;">    <a class="navbar-brand navbar-home" href="/app" style="flex: 1;">     <img class="app-logo" style="width: 125px; min-height: 50px;" src="{{ frappe.boot.app_logo_url }}">    </a>    <div class="page-head show-sidebar-toggle" style="background-color: transparent; position: static;">     <span class="sidebar-toggle-btn">      <span class="sidebar-toggle-icon">       <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-toggles class="        icon icon-md sidebar-toggle-placeholder""        viewBox="0 0 16 16">        <path         d="M4.5 9a3.5 3.5 0 1 0 0 7h7a3.5 3.5 0 1 0 0-7h-7zm7 6a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm-7-14a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zm2.45 0A3.49 3.49 0 0 1 8 3.5 3.49 3.49 0 0 1 6.95 6h4.55a2.5 2.5 0 0 0 0-5H6.95zM4.5 0h7a3.5 3.5 0 1 1 0 7h-7a3.5 3.5 0 1 1 0-7z" />       </svg>      </span>     </span>     </div>   </div>   <div class="col-lg-10 col-xs-12" style="padding-right: 0; padding-left: 0;">    <div class="collapse navbar-collapse justify-content-end">     <form class="form-inline fill-width justify-content-end" style="background-color:#f9fafa" role="search" onsubmit="return false;">      <div class="input-group search-bar text-muted hidden" style="max-width: 100%;">       <input id="navbar-search" type="text" class="form-control" placeholder="{%= __("Global Search ...") %}" aria-haspopup="true">       <span class="search-icon">        <svg class="icon icon-sm">         <use xlink:href="#icon-search"></use>        </svg>       </span>      </div>     </form>     <ul class="navbar-nav">      <li class="nav-item dropdown dropdown-notifications dropdown-mobile hidden">       <a class="nav-link notifications-icon text-muted" data-toggle="dropdown" aria-haspopup="true"        aria-expanded="true" href="#" onclick="return false;">        <span class="notifications-seen">         <svg class="icon icon-md">          <use href="#icon-notification"></use>         </svg>        </span>        <span class="notifications-unseen">         <svg class="icon icon-md">          <use href="#icon-notification-with-indicator"></use>         </svg>        </span>       </a>       <div class="dropdown-menu notifications-list dropdown-menu-right" role="menu">        <div class="notification-list-header">         <div class="header-items"></div>         <div class="header-actions"></div>        </div>        <div class="notification-list-body">         <div class="panel-notifications"></div>         <div class="panel-events"></div>        </div>       </div>      </li>             <li class="nav-item dropdown dropdown-lang dropdown-mobile lang-li">       <a class="lang-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"        href="#"        onclick="return false;">        <span>         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#885af8" class="bi bi-translate" viewBox="0 0 16 16">         <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/>         <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066 0 0 1-.415-.492 1.988 1.988 0 0 1-.94.31z"/>          </svg></span>       </a>       <ul class="dropdown-menu lang-list" role="menu">        <li>         <a href="#" onclick="return false;" class="nav-link lang-switcher" data-lang="ar" style="padding: 5px 8px;">          <img src="/assets/mosyerdesign/img/ar.png" alt="ar" style="width: 20px;"> {%= __("Ar") %}         </a>        </li>        <li>         <a href="#" onclick="return false;" class="nav-link lang-switcher" data-lang="en" style="padding: 5px 8px;">          <img src="/assets/mosyerdesign/img/en.png" alt="en" style="width: 20px;"> {%= __("En") %}         </a>        </li>       </ul>      </li>          <li class="nav-item dropdown dropdown-message dropdown-mobile hidden">       <a class="nav-link notifications-icon text-muted" data-toggle="dropdown" aria-haspopup="true"        aria-expanded="true" href="#" onclick="return false;">        <span>         <svg class="icon icon-md">          <use href="#icon-small-message"></use>         </svg>        </span>       </a>      </li>     </ul>    </div>   </div>  </div> </header>';

	frappe.templates['page'] = '<div class="page-head flex hidden">  <div class="container">   <div class="row flex align-center page-head-content justify-between">    <div class="col-md-4 col-sm-6 col-xs-8 page-title">     <div class="title-image hide hidden-md hidden-lg"></div>          <span class="sidebar-toggle-btn">      <svg class="icon icon-md sidebar-toggle-placeholder">       <use xlink:href="#icon-menu"></use>      </svg>      <span class="sidebar-toggle-icon">       <svg class="icon icon-md">        <use xlink:href="#icon-sidebar-collapse">        </use>       </svg>      </span>     </span>     <div class="flex fill-width title-area">      <div>       <div class="flex">        <h3 class="ellipsis title-text"></h3>        <span class="indicator-pill whitespace-nowrap"></span>       </div>       <div class="ellipsis sub-heading hide text-muted"></div>      </div>      <button class="btn btn-default more-button hide">       <svg class="icon icon-sm">        <use xlink:href="#icon-dot-horizontal">        </use>       </svg>      </button>     </div>    </div>    <div class="flex col page-actions justify-content-end">          <div class="flex fill-width title-area">      <div>       <div class="flex">        <h3 class="ellipsis title-text"></h3>        <span class="indicator-pill whitespace-nowrap"></span>       </div>       <div class="ellipsis sub-heading hide text-muted"></div>      </div>      <button class="btn btn-default more-button hide">       <svg class="icon icon-sm">        <use xlink:href="#icon-dot-horizontal">        </use>       </svg>      </button>     </div>               <div class="custom-actions hide hidden-xs hidden-md"></div>     <div class="standard-actions flex">      <span class="page-icon-group hide hidden-xs hidden-sm"></span>      <div class="menu-btn-group hide">       <button type="button" class="btn btn-default icon-btn" data-toggle="dropdown" aria-expanded="false">        <span>         <span class="menu-btn-group-label">          <svg class="icon icon-sm">           <use xlink:href="#icon-dot-horizontal">           </use>          </svg>         </span>        </span>       </button>       <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul>      </div>      <button class="btn btn-secondary btn-default btn-sm hide"></button>      <div class="actions-btn-group hide">       <button type="button" class="btn btn-primary btn-sm" data-toggle="dropdown" aria-expanded="false">        <span class="hidden-xs">         <span class="actions-btn-group-label">{%= __("Actions") %}</span>         <svg class="icon icon-xs">          <use xlink:href="#icon-select">          </use>         </svg>        </span>       </button>       <ul class="dropdown-menu dropdown-menu-right" role="menu">       </ul>      </div>      <button class="btn btn-primary btn-sm hide primary-action"></button>     </div>    </div>   </div>  </div> </div> <div class="container-fluid page-body">  <div class="page-toolbar hide">   <div class="container">   </div>  </div>  <div class="page-wrapper">   <div class="page-content">    <div class="workflow-button-area btn-group pull-right hide"></div>    <div class="clearfix"></div>   </div>  </div> </div> ';

	frappe.templates['list_sidebar'] = '<div class="list-sidebar overlay-sidebar hidden-xs hidden-sm" style="width: 100%;">     <div class="desk-sidebar list-unstyled sidebar-menu">         <div class="standard-sidebar-section">             <div class="standard-sidebar-label"></div>             <a href="/app/user" class="standard-sidebar-item mb-2" style="border-bottom: 1px solid #eee;">                 <span>                     {% if frappe.boot.user_info[frappe.session.user].image %}                     <img src="{{ frappe.boot.user_info[frappe.session.user].image }}"                         width="30" style="border-radius: 50%;" />                     {% else %}                         <img src="/assets/mosyerdesign/img/avatar-alt.jpg"                         width="30" style="border-radius: 50%;" />                     {% endif %}                 </span>                 <span class="sidebar-item-label"> {{ frappe.session.user_fullname }}<span>                 <p class="text-muted" style="font-size: 12px; margin-bottom:0"> {{frappe.session.user_email}}</p>             </a>             {% for doc in allowed_doctypes %}             <a href="/app/{{frappe.router.slug(doc.name)}}" class="desk-sidebar-item standard-sidebar-item">                 <span>                     <svg class="icon icon-lg">                         <use class="" href="#icon-{{doc.icon ? doc.icon : "folder-normal"}}"></use>                     </svg>                 </span>                 <span class="sidebar-item-label">{{ doc.label ? __(doc.label): doc.name}}<span>             </a>             {% endfor %}         </div>     </div>      <div class="nav-item dropdown dropdown-navbar-user dropdown-mobile mb-2">         <a class="nav-link" style="margin-top: 10px;" data-toggle="dropdown" href="#" onclick="return false;">             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-three-dots"                 viewBox="0 0 16 16">                 <path                     d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />             </svg>             <span class="ml-2 settings" style="font-size: 18px;">{{__("Settings") }}</span>         </a>         <div class="dropdown-menu dropdown-menu-right" id="toolbar-user" role="menu">             {% for item in frappe.boot.navbar_settings.settings_dropdown %}             {% if (!item.hidden) { %}             {% if (item.route) { %}             <a class="dropdown-item" href="{{ item.route }}">                 {%= __(item.item_label) %}             </a>             {% } else if (item.action) { %}             <a class="dropdown-item" onclick="return {{ item.action }}">                 {%= __(item.item_label) %}             </a>             {% } else { %}             <div class="dropdown-divider"></div>             {% } %}             {% } %}             {% endfor %}         </div>     </div>     <div class="text-center support-img">         <img src="/assets/mosyerdesign/img/support.jpg" alt="support image" style="width: 200px" />     </div> </div> <a class="toggler-btn text-muted" style="padding-left: 8px;">     <img src="/assets/mosyerdesign/img/toggler.svg" />      <span class="sidebar-item-label" style="font-size:13px !important; margin-left: 10px;font-weight:600;">{{__("Toggle sidebar")}}</span>  </a>';

	frappe.templates['form_sidebar'] = ' <div class="list-unstyled sidebar-menu form-sidebar-stats desk-sidebar standard-sidebar-item">     <a href="/app/user" class="standard-sidebar-item mb-2" style="border-bottom: 1px solid #eee;text-decoration: none;">         <span>             {% if frappe.boot.user_info[frappe.session.user].image %}             <img src="{{ frappe.boot.user_info[frappe.session.user].image }}"                 width="30" style="border-radius: 50%;">             {% else %}                 <img src="/assets/mosyerdesign/img/avatar-alt.jpg"                 width="30" style="border-radius: 50%;">             {% endif %}         </span>         <span class="sidebar-item-label"> {{ frappe.session.user_fullname }}</span>     </a>      {% for doc in allowed_doctypes %}         <a href="/app/{{frappe.router.slug(doc.name)}}" class="desk-sidebar-item standard-sidebar-item "             style="text-decoration: none;">             <span>                 <svg class="icon icon-lg">                     <use class="" href="#icon-{{doc.icon ? doc.icon : "folder-normal"}}"></use>                 </svg>             </span>             <span class="sidebar-item-label">{{ doc.label ? __(doc.label): doc.name}}<span>         </a>     {% endfor %} </div> <div class="nav-item dropdown dropdown-navbar-user dropdown-mobile mb-2">     <a class="nav-link" style="margin-top: 10px;" data-toggle="dropdown" href="#" onclick="return false;">         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-three-dots"             viewBox="0 0 16 16">             <path                 d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />         </svg>         <span class="ml-2 settings" style="font-size: 18px;">{{__("Settings") }}</span>     </a>     <div class="dropdown-menu dropdown-menu-right" id="toolbar-user" role="menu">         {% for item in frappe.boot.navbar_settings.settings_dropdown %}         {% if (!item.hidden) { %}         {% if (item.route) { %}         <a class="dropdown-item" href="{{ item.route }}">             {%= __(item.item_label) %}         </a>         {% } else if (item.action) { %}         <a class="dropdown-item" onclick="return {{ item.action }}">             {%= __(item.item_label) %}         </a>         {% } else { %}         <div class="dropdown-divider"></div>         {% } %}         {% } %}         {% endfor %}     </div>     <div class="text-center support-img">         <img src="/assets/mosyerdesign/img/support.jpg" alt="support image" style="width: 200px" />     </div> </div> <a class="toggler-btn text-muted" style="padding-left: 8px;">     <img src="/assets/mosyerdesign/img/toggler.svg" />     <span class="sidebar-item-label" style="font-size:13px !important; margin-left: 10px;font-weight:600;">{{__("Toggle sidebar")}}</span> </a>';

	console.log(frappe.boot.doc_notification, 'ssa');

	frappe.views.Workspace.prototype.make_sidebar = function () {
	    this.build_sidebar_section('category', frappe.boot.allowed_doctypes);
	};
	frappe.views.Workspace.prototype.build_sidebar_section = function (title, items) {
	    var this$1 = this;

	    var sidebar_section = $("<div class=\"standard-sidebar-section\"></div>");

	    // DO NOT REMOVE: Comment to load translation
	    // __("Modules") __("Domains") __("Places") __("Administration")
	    $(("<div class=\"standard-sidebar-label\">" + (__(title)) + "</div>"))
	        .appendTo(sidebar_section);

	    var avatar = "<a href=\"/app/user\" class=\"standard-sidebar-item \" style=\"border-bottom: 1px solid #eee;\">\n                        <span>\n                            <img src= \"" + (frappe.boot.user_info[frappe.session.user].image ? frappe.boot.user_info[frappe.session.user].image : '/assets/mosyerdesign/img/avatar-alt.jpg') + "\"\n                            / >\n                        </span>\n                        <span class=\"sidebar-item-label\"> " + (frappe.session.user_fullname) + "<span>\n                        <p class=\"text-muted\" style=\"font-size: 12px; margin-bottom:0\"> " + (frappe.session.user_email) + "</p>\n                    </a>";
	    var supportImg = "<div class=\"text-center support-img\"> \n                            <img src=\"/assets/mosyerdesign/img/support.jpg\" alt=\"support image\" style=\"width: 200px; height: 180px\"\n                        </div>\n                        ";
	    var sett = '';
	    // User Settings Options 
	    frappe.boot.navbar_settings.settings_dropdown.forEach(function (item) {
	            if (!item.hidden) {
	                if (item.route) {
	                    sett += "<a class=\"dropdown-item\" href=\"" + (item.route) + "\"> " + (__(item.item_label)) + " </a>";
	                }
	                if (item.action) {
	                    sett += "<a class=\"dropdown-item\" onclick=\"return " + (item.action) + "\"> " + (__(item.item_label)) + " </a>";
	                }
	                else {
	                    sett += "<div class=\"dropdown-divider\"></div>";
	                }
	            }
	    });
	    var userSettings = "\n                        <div class=\"nav-item dropdown dropdown-navbar-user dropdown-mobile mb-2\">\n                            <a class=\"nav-link\" style=\"padding-left:12px; margin-top: 10px;\" data-toggle=\"dropdown\"\n                            href=\"#\" onclick=\"return false;\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-three-dots\"\n                                    viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" />\n                                </svg>\n                                <span class=\"ml-2 settings\" style=\"font-size: 18px;\">" + (__("Settings")) + "</span>\n                            </a>\n                            \n                            <div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-user\" role=\"menu\" style='max-height: 300px; overflow-y: auto;'>\n                                " + sett + "\n                            </div>\n                        </div>\n                        ";
	    var userAccount = "\n                         <a class=\"nav-link nav-user-account\" href=\"" + (frappe.boot.navbar_settings.settings_dropdown[0].route) + "\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                                <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                            </svg>\n                            <span class=\"ml-2 user-account\" style=\"font-size: 18px;\">" + (__("My Account")) + "</span>\n                        </a>\n                        ";
	    var toggleBtn = "\n                        <a class=\"toggler-btn text-muted\">\n                            <img src=\"/assets/mosyerdesign/img/toggler.svg\" />\n                            <span class=\"sidebar-item-label\" style=\"font-size:13px !important; margin-left: 10px; font-weight:600;transition: all .3s ease-in-out !important;\">" + (__("Toggle sidebar")) + "</span>\n                        </a>\n                        ";
	    
	    sidebar_section.prepend(avatar);
	    $('.overlay-sidebar').append(userSettings);
	    $('.overlay-sidebar').append(supportImg);
	    $('.overlay-sidebar').append(userAccount);
	    $('.overlay-sidebar').append(toggleBtn);

	    var get_sidebar_item = function (item) {
	        return $(("\n\t\t\t\t<a href=\"/app/" + (frappe.router.slug(item.name)) + "\"\n\t\t\t\t\tclass=\"desk-sidebar-item standard-sidebar-item " + (item.selected ? "selected" : "") + "\" >\n\t\t\t\t\t<span>" + (frappe.utils.icon(item.icon || "folder-normal", "lg")) + "</span>\n\t\t\t\t\t<span class=\"sidebar-item-label\">" + (__(item.label) || __(item.name)) + "<span>\n\t\t\t\t</a>\n\t\t\t"));
	    };

	    var make_sidebar_category_item = function (item) {
	        if (item.name == this$1.get_page_to_show()) {
	            item.selected = true;
	            this$1.current_page_name = item.name;
	        }

	        var $item = get_sidebar_item(item);

	        $item.appendTo(sidebar_section);
	        this$1.sidebar_items[item.name] = $item;
	    };

	    items.forEach(function (item) { return make_sidebar_category_item(item); });
	    sidebar_section.appendTo(this.sidebar);
	};
	frappe.views.Workspace.prototype.make_page = function(page){
	    var $page = new CustomDesktopPage({
	        container: this.body,
	        page_name: page
	    });

	    this.pages[page] = $page;
	    return $page;
	};

	class CustomDesktopPage {
		constructor(ref) {
		var container = ref.container;
		var page_name = ref.page_name;

			frappe.desk_page = this;
			this.container = container;
			this.page_name = page_name;
			this.sections = {};
			this.allow_customization = false;
			this.reload();
		}

		show() {
			frappe.desk_page = this;
			this.page.show();
			if (this.sections.shortcuts) {
				this.sections.shortcuts.widgets_list.forEach(function (wid) {
					wid.set_actions();
				});
			}
		}

		hide() {
			this.page.hide();
		}

		reload() {
			this.in_customize_mode = false;
			this.page && this.page.remove();
			this.make();
		}

		make() {
			var this$1 = this;

			this.page = $(("<div class=\"desk-page\" data-page-name=" + (this.page_name) + "></div>"));
			this.page.append(frappe.render_template('workspace_loading_skeleton'));
			this.page.appendTo(this.container);

			this.get_data().then(function () {
				if (Object.keys(this$1.data).length == 0) {
					delete localStorage.current_workspace;
					frappe.set_route("workspace");
					return;
				}
				this$1.refresh();
			}).finally(this.page.find('.workspace_loading_skeleton').remove);
		}

		refresh() {
			this.page.empty();
			this.allow_customization = this.data.allow_customization || false;

			if (frappe.is_mobile()) {
				this.allow_customization = false;
			}

			this.data.onboarding && this.data.onboarding.items.length && this.make_onboarding();
			this.make_shortcuts();

			var attendanceState = "<div class=\"notification-content bg-white col-lg-7 col-xs-12\" style=\"border-radius: 6px; margin-top: 10px;\"></div>";
	    	var chartsContainer = "<div class=\"chart-content-section col-lg-5 col-xs-12\"></div>";

			this.page.append(("<div class=\"container-fluid row\">\n\t\t\t\t\t\t\t" + attendanceState + "\n\t\t\t\t\t\t\t" + chartsContainer + "\n\t\t\t\t\t\t  </div>"));
			this.make_charts();
			this.make_cards();
	        this.make_notification();
		}

		get_data() {
			var this$1 = this;

			return frappe.xcall("frappe.desk.desktop.get_desktop_page", {
				page: this.page_name
			}).then(function (data) {
				this$1.data = data;
				if (Object.keys(this$1.data).length == 0) { return; }

				return frappe.dashboard_utils.get_dashboard_settings().then(function (settings) {
					var chart_config = settings.chart_config ? JSON.parse(settings.chart_config) : {};
					if (this$1.data.charts.items) {
						this$1.data.charts.items.map(function (chart) {
							chart.chart_settings = chart_config[chart.chart_name] || {};
						});
					}
				});
			});
		}

		customize() {
			var this$1 = this;

			if (this.in_customize_mode) {
				return;
			}

			// We need to remove this as the  chart group will be visible during customization
			$('.widget.onboarding-widget-box').hide();

			Object.keys(this.sections).forEach(function (section) {
				this$1.sections[section].customize();
			});
			this.in_customize_mode = true;

		}

		save_customization() {
			var this$1 = this;

			frappe.dom.freeze();
			var config = {};

			if (this.sections.charts) { config.charts = this.sections.charts.get_widget_config(); }
			if (this.sections.shortcuts) { config.shortcuts = this.sections.shortcuts.get_widget_config(); }
			if (this.sections.cards) { config.cards = this.sections.cards.get_widget_config(); }

			frappe.call('frappe.desk.desktop.save_customization', {
				page: this.page_name,
				config: config
			}).then(function (res) {
				frappe.dom.unfreeze();
				if (res.message) {
					frappe.show_alert({ message: __("Customizations Saved Successfully"), indicator: "green" });
					this$1.reload();
				} else {
					frappe.throw({ message: __("Something went wrong while saving customizations"), indicator: "red" });
					this$1.reload();
				}
			});
		}

		reset_customization() {
			var this$1 = this;

			frappe.call('frappe.desk.desktop.reset_customization', {
				page: this.page_name
			}).then(function () {
				frappe.show_alert({ message: __("Removed page customizations"), indicator: "green" });
				this$1.reload();
			});
		}

		make_onboarding() {
			this.onboarding_widget = frappe.widget.make_widget({
				label: this.data.onboarding.label || __("Let's Get Started"),
				subtitle: this.data.onboarding.subtitle,
				steps: this.data.onboarding.items,
				success: this.data.onboarding.success,
				docs_url: this.data.onboarding.docs_url,
				user_can_dismiss: this.data.onboarding.user_can_dismiss,
				widget_type: 'onboarding',
				container: this.page,
				options: {
					allow_sorting: false,
					allow_create: false,
					allow_delete: false,
					allow_hiding: false,
					allow_edit: false,
					max_widget_count: 2,
				}
			});
		}

		make_charts() {
			this.sections["charts"] = new frappe.widget.WidgetGroup({
				container: this.page.find('.chart-content-section'),
				type: "chart",
				columns: 1,
				class_name: "widget-charts",
				hidden: Boolean(this.onboarding_widget),
				options: {
					allow_sorting: this.allow_customization,
					allow_create: this.allow_customization,
					allow_delete: this.allow_customization,
					allow_hiding: false,
					allow_edit: true,
					max_widget_count: 2,
				},
				widgets: this.data.charts.items
			});
		}

		make_shortcuts() {
			this.sections["shortcuts"] = new frappe.widget.WidgetGroup({
				title: this.data.shortcuts.label || __('Your Shortcuts'),
				container: this.page,
				type: "shortcut",
				columns: 3,
				options: {
					allow_sorting: this.allow_customization,
					allow_create: this.allow_customization,
					allow_delete: this.allow_customization,
					allow_hiding: false,
					allow_edit: true,
				},
				widgets: this.data.shortcuts.items
			});
		}

		make_cards() {
			var cards = new frappe.widget.WidgetGroup({
				title: this.data.cards.label || __("Reports & Masters"),
				container: this.page,
				type: "links",
				columns: 3,
				options: {
					allow_sorting: this.allow_customization,
					allow_create: false,
					allow_delete: false,
					allow_hiding: this.allow_customization,
					allow_edit: false,
				},
				widgets: this.data.cards.items
			});

			this.sections["cards"] = cards;
		}
	    make_notification(){
	        if (frappe.boot.doc_notification){
	            frappe.boot.doc_notification.map(function (el) {
	                var notify = "<div class=\"notification-box\">\n                                <h5> " + (el.name) + "</h5>\n                                <h6 class=\"pt-2\"> <span class=\"text-muted\">Date at :</span> " + (el.posting_date ? el.posting_date : el.creation.split(' ')[0]) + " </h6>\n                                <div class=\"user mt-4\">\n                                    <span class=\"user-label\"> " + (el.applicant_name ? el.applicant_name : el.employee_name ?  el.employee_name: '') + "<span>\n                                </div>\n                            </div>";
	                $(".notification-content").append(notify);
	            });
	        }
	    }
	}

	frappe.views.ListSidebar.prototype.make = function () {
	    var sidebar_content = frappe.render_template("list_sidebar", {
	        allowed_doctypes: frappe.boot.allowed_doctypes
	    });

	    this.sidebar = $('<div class="list-sidebar overlay-sidebar hidden-xs hidden-sm"></div>')
	        .html(sidebar_content)
	        .appendTo(this.page.sidebar.empty());

	    // do not remove
	    // used to trigger custom scripts
	    $(document).trigger('list_sidebar_setup');

	     this.sidebar.find('a.toggler-btn').on('click', function () {
	         $('.layout-side-section').toggleClass('toggle-sidebar');
	         $('.sidebar-item-label').toggleClass('hidden');
	         $('.user-account').toggleClass('hidden');
	         $('.settings').toggleClass('hidden');
	         $('.support-img').toggleClass('hidden');
	         $('.toolbar-user').toggleClass('user-settings-list');
	     });
	};

	frappe.ui.form.Sidebar.prototype.make = function(){
	    var sidebar_content = frappe.render_template("form_sidebar", {
	        allowed_doctypes: frappe.boot.allowed_doctypes
	    });

	    this.sidebar = $('<div class="form-sidebar overlay-sidebar hidden-xs hidden-sm"></div>')
	        .html(sidebar_content)
	        .appendTo(this.page.sidebar.empty());
	        
	        this.sidebar.find('a.toggler-btn').on('click', function () {
	            $('.layout-side-section').toggleClass('toggle-sidebar');
	            $('.sidebar-item-label').toggleClass('hidden');
	            $('.user-account').toggleClass('hidden');
	            $('.settings').toggleClass('hidden');
	            $('.support-img').toggleClass('hidden');
	            $('.toolbar-user').toggleClass('user-settings-list');
	        });
	};

	frappe.listview_settings['Employee'] = {
	    get_indicator: function (doc) {
	        if (doc.status === "Active") {
	            return [__("Active"), "green", "status,=,Active"];

	        } else if (doc.status === "Iactive") {
	            return [__("Iactive"), "dark", "status,=,Iactive"];

	        } else if (doc.status === "Suspended") {
	            return [__("Suspended"), "red", "status,=,Suspended"];

	        }else if (doc.status === "On Leave") {
	            return [__("On Leave"), "purple", "status,=,On Leave"];
	        }
	    },
	    onload: function (listview) {}
	};

	frappe.ui.Page.prototype.add_main_section = function(){
	        
	        $(frappe.render_template("page", {})).appendTo(this.wrapper);
	        var pageActions = "\n                            <div class=\"container-fluid flex page-actions row my-4 justify-content-between\">\n                                <div class=\"col-md-6 col-xs-12 flex widget-boxs justify-content-between\"></div>\n                                <!-- buttons -->\n                                <div class=\"col-md-5 col-xs-12 actions-btn flex justify-content-end\">\n                                    <div class=\"custom-actions hide hidden-xs hidden-md\"></div>\n                                    <div class=\"standard-actions flex\">\n                                        <span class=\"page-icon-group hide hidden-xs hidden-sm\"></span>\n                                        <div class=\"menu-btn-group hide\">\n                                            <button type=\"button\" class=\"btn btn-default icon-btn\" data-toggle=\"dropdown\"\n                                                aria-expanded=\"false\">\n                                                <span>\n                                                    <span class=\"menu-btn-group-label\">\n                                                        <svg class=\"icon icon-sm\">\n                                                            <use xlink:href=\"#icon-dot-horizontal\">\n                                                            </use>\n                                                        </svg>\n                                                    </span>\n                                                </span>\n                                            </button>\n                                            <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\"></ul>\n                                        </div>\n                                        <button class=\"btn btn-secondary btn-default btn-sm hide\"></button>\n                                        <div class=\"actions-btn-group hide\">\n                                            <button type=\"button\" class=\"btn btn-primary btn-sm\" data-toggle=\"dropdown\"\n                                                aria-expanded=\"false\">\n                                                <span class=\"hidden-xs\">\n                                                    <span class=\"actions-btn-group-label\">" + (__("Actions")) + "</span>\n                                                    <svg class=\"icon icon-xs\">\n                                                        <use xlink:href=\"#icon-select\">\n                                                        </use>\n                                                    </svg>\n                                                </span>\n                                            </button>\n                                            <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n                                            </ul>\n                                        </div>\n                                        <button class=\"btn btn-primary btn-sm hide primary-action\"></button>\n                                    </div>\n                                </div>\n                            </div>\n                            ";
	        if (this.single_column) {
	            // nesting under col-sm-12 for consistency
	            this.add_view("main", ("<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-md-12 layout-main-section-wrapper\">\n                        " + pageActions + "\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>"));
	        } else {
	            this.add_view("main", ("\n\t\t\t\t<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-lg-2 layout-side-section\"></div>\n\t\t\t\t\t<div class=\"col layout-main-section-wrapper\">\n                        " + pageActions + "\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"));
	        }

	        var currentDoc = frappe.get_route()[1];
	        var listCurrentDoc = frappe.get_route()[0];
	        if (currentDoc == 'Employee' && listCurrentDoc == 'List'){
	            async function totalInactive(status) {
	                var total = await frappe.db.get_list('Employee', {filters:{'status': status}});
	                var template = "\n                                <div class=\"status-box " + (status == 'Active'? 'active-status': status == 'Inactive'? 'inactive-status': status == 'On Leave'? 'leave-status': 'bg-yellow') + "\" >\n                                    <div> \n                                        <p>" + status + " </p>\n                                        <p style=\"font-size: 18px; font-weight: 800;\"> " + (total.length) + " </p>\n                                    </div>\n                                    <div class=\"status-box-body flex align-items-center justify-content-around\">\n                                        <svg style=\"margin-left:15px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"bi bi-person\" viewBox=\"0 0 16 16\">\n                                            <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\n                                        </svg>\n                                    </div>\n                                </div>\n                                ";
	                $('.widget-boxs').prepend(template);
	            }
	            totalInactive('Active');
	            totalInactive('Inactive');
	            totalInactive('Left');
	        }
	        this.setup_page();
	};

	$(document).ready(function(){
	    var box = $('div.dashboard-widget-box');
	    $('.chart-content').append(box);
	    $('body').addClass('anvil-custom-theme');
	    $('a.toggler-btn').on('click', function (e) {
	        $('.layout-side-section').toggleClass('toggle-sidebar');
	        $('.sidebar-item-label').toggleClass('hidden');
	        $('.user-account').toggleClass('hidden');
	        $('.settings').toggleClass('hidden');
	        $('.support-img').toggleClass('hidden');
	        $('.toolbar-user').toggleClass('user-settings-list');
	    });

	    // async function getEmployeeAttendance(){
	    //     let employees = await frappe.db.get_list('Employee', {filters:{'status': 'Active'}})
	    //     let totalEmpPresent = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date()}})
	    //     let absent = await frappe.db.get_list('Attendance', {filters:{'status':'Absent', 'attendance_date':frappe.datetime.now_date()}})
	    //     let earlyLeave = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'early_exit':1}})
	    //     let late = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'late_entry':1}})
	    //     let early = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'late_entry':0, 'early_exit':0}})
	    //     let totalPresent = `<p style="font-weight: 500"> ${totalEmpPresent.length} Employees Attended out of ${employees.length} </p>`
	    //     let absentBtn =  `<button class="btn btn-danger btn-sm"> Absent <span class="count"> ${absent.length}</span></button>`
	    //     let earlyLeaveBtn = `<button class="btn btn-secondary btn-sm"> Early Leave <span class="count"> ${earlyLeave.length}</span></button>`
	    //     let lateBtn = `<button class="btn btn-warning btn-sm"> Late <span class="count"> ${late.length}</span></button>`
	    //     let earlyBtn = `<button class="btn btn-success btn-sm"> Early <span class="count"> ${early.length}</span></button>`
	        
	    //     $('.attendance-head').append(totalPresent)
	    //     $('.attendance-state').append(earlyBtn)
	    //     $('.attendance-state').append(absentBtn)
	    //     $('.attendance-state').append(lateBtn)
	    //     $('.attendance-state').append(earlyLeaveBtn)
	        
	    // }
	    // getEmployeeAttendance()
	    $(".lang-switcher").on('click', function (e) {
	        if (frappe.boot.lang !== $(e.target).attr("data-lang")) {
	            frappe.db.set_value("User", frappe.session.user, "language", $(e.target).attr("data-lang"))
	                .then(function () {
	                    location.reload();
	                });
	        }
	    });
	});

}());
//# sourceMappingURL=mosyerdesign.min.js.map
