{"version":3,"file":"mosyerdesign.min.js","sources":["../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_workspace.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_list_sidebar.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_form_sidebar.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/employee_list.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_page.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/main.js"],"sourcesContent":["frappe.views.Workspace.prototype.make_sidebar = function () {\n    this.build_sidebar_section('category', frappe.boot.allowed_doctypes);\n}\n\nfrappe.views.Workspace.prototype.build_sidebar_section = function (title, items) {\n    let sidebar_section = $(`<div class=\"standard-sidebar-section\"></div>`);\n\n    // DO NOT REMOVE: Comment to load translation\n    // __(\"Modules\") __(\"Domains\") __(\"Places\") __(\"Administration\")\n    $(`<div class=\"standard-sidebar-label\">${__(title)}</div>`)\n        .appendTo(sidebar_section);\n    const logo = ` <a class=\"navbar-brand navbar-home mb-3\" href=\"/app\" style=\"border-bottom: 1px solid #eee; margin-right: 0; width: 100%;\">\n                        <img class=\"app-logo\" style=\"width: 125px; min-height: 50px !important;\"\n                        src=\"${ frappe.boot.app_logo_url }\">\n                    </a>`;\n    const avatar = `<a href=\"/app/user/${frappe.session.user_email}\" class=\"desk-sidebar-item standard-sidebar-item \" style=\"border-bottom: 1px solid #eee;\">\n                        <span>\n                            <img src= \"${ frappe.boot.user_info[frappe.session.user].image ? frappe.boot.user_info[frappe.session.user].image : '/assets/mosyerdesign/img/avatar-alt.jpg' }\"\n                            style=\"width: 30px; border-radius: 50%; margin-right: 27px\"/ >\n                        </span>\n                        <span class=\"sidebar-item-label\"> ${ frappe.session.user_fullname }<span>\n                        <p class=\"text-muted\" style=\"font-size: 12px; margin-bottom:0\"> ${frappe.session.user_email}</p>\n                    </a>`;\n    const supportImg = `<div class=\"text-center support-img\"> \n                            <img src=\"/assets/mosyerdesign/img/support.jpg\" alt=\"support image\" style=\"width: 200px; height: 180px\"\n                        </div>\n                        `\n    let sett = ''\n    // User Settings Options \n    frappe.boot.navbar_settings.settings_dropdown.forEach(item => {\n            if (!item.hidden) {\n                if (item.route) {\n                    sett += `<a class=\"dropdown-item\" href=\"${ item.route }\"> ${__(item.item_label)} </a>`\n                }\n                if (item.action) {\n                    sett += `<a class=\"dropdown-item\" onclick=\"return ${item.action }\"> ${__(item.item_label)} </a>`\n                }\n                else {\n                    sett += `<div class=\"dropdown-divider\"></div>`\n                }\n            }\n    })\n    const userSettings = `\n                        <div class=\"nav-item dropdown dropdown-navbar-user dropdown-mobile mb-2\">\n                            <a class=\"nav-link\" style=\"padding: 0;padding-left:12px\" data-toggle=\"dropdown\"\n                            href=\"#\" onclick=\"return false;\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-three-dots\"\n                                    viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" />\n                                </svg>\n                                <span class=\"ml-2 settings\">Settings</span>\n                            </a>\n                            \n                            <div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-user\" role=\"menu\" style='max-height: 300px; overflow-y: auto;'>\n                                ${sett}\n                            </div>\n                        </div>\n                        `\n    const userAccount = `\n                         <a class=\"nav-link\" style=\"padding: 0; padding-left:12px\" href=\"${frappe.boot.navbar_settings.settings_dropdown[0].route }\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                                <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                            </svg>\n                            <span class=\"ml-2 user-account\">My Account</span>\n                        </a>\n                        `\n    const toggleBtn = `\n                        <a class=\"toggler-btn text-muted\" style=\"padding-left: 12px; position: relative;\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-toggles\" viewBox=\"0 0 16 16\">\n                            <path d=\"M4.5 9a3.5 3.5 0 1 0 0 7h7a3.5 3.5 0 1 0 0-7h-7zm7 6a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm-7-14a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zm2.45 0A3.49 3.49 0 0 1 8 3.5 3.49 3.49 0 0 1 6.95 6h4.55a2.5 2.5 0 0 0 0-5H6.95zM4.5 0h7a3.5 3.5 0 1 1 0 7h-7a3.5 3.5 0 1 1 0-7z\"/>\n                            </svg>\n                            <span class=\"tooltip-text\">Toggle Sidebar</span>\n                        </a>\n                        `\n    \n    sidebar_section.prepend(avatar)\n    sidebar_section.prepend(logo)\n    $('.overlay-sidebar').append(userSettings)\n    $('.overlay-sidebar').append(supportImg)\n    $('.overlay-sidebar').append(userAccount)\n    $('.overlay-sidebar').append(toggleBtn)\n\n    const get_sidebar_item = function (item) {\n        return $(`\n\t\t\t\t<a href=\"/app/${frappe.router.slug(item.name)}\"\n\t\t\t\t\tclass=\"desk-sidebar-item standard-sidebar-item \" >\n\t\t\t\t\t<span>${frappe.utils.icon(item.icon || \"folder-normal\", \"md\")}</span>\n\t\t\t\t\t<span class=\"sidebar-item-label\">${item.label || item.name}<span>\n\t\t\t\t</a>\n\t\t\t`);\n    };\n\n    const make_sidebar_category_item = item => {\n        if (item.name == this.get_page_to_show()) {\n            item.selected = true;\n            this.current_page_name = item.name;\n        }\n\n        let $item = get_sidebar_item(item);\n\n        $item.appendTo(sidebar_section);\n        this.sidebar_items[item.name] = $item;\n    };\n\n    items.forEach(item => make_sidebar_category_item(item));\n\n    sidebar_section.appendTo(this.sidebar);\n}","frappe.views.ListSidebar.prototype.make = function () {\n    var sidebar_content = frappe.render_template(\"list_sidebar\", {\n        allowed_doctypes: frappe.boot.allowed_doctypes\n    });\n\n    this.sidebar = $('<div class=\"list-sidebar overlay-sidebar hidden-xs hidden-sm\"></div>')\n        .html(sidebar_content)\n        .appendTo(this.page.sidebar.empty());\n\n    // do not remove\n    // used to trigger custom scripts\n    $(document).trigger('list_sidebar_setup');\n\n     this.sidebar.find('a.toggler-btn').on('click', () => {\n         $('.layout-side-section').toggleClass('toggle-sidebar');\n         $('.sidebar-item-label').toggleClass('hidden');\n         $('.user-account').toggleClass('hidden');\n         $('.settings').toggleClass('hidden');\n         $('.support-img').toggleClass('hidden');\n         $('.toolbar-user').toggleClass('user-settings-list');\n     });\n}\n","\nfrappe.ui.form.Sidebar.prototype.make = function(){\n    var sidebar_content = frappe.render_template(\"form_sidebar\", {\n        allowed_doctypes: frappe.boot.allowed_doctypes\n    });\n\n    this.sidebar = $('<div class=\"form-sidebar overlay-sidebar hidden-xs hidden-sm\"></div>')\n        .html(sidebar_content)\n        .appendTo(this.page.sidebar.empty());\n        \n        this.sidebar.find('a.toggler-btn').on('click', () => {\n            $('.layout-side-section').toggleClass('toggle-sidebar');\n            $('.sidebar-item-label').toggleClass('hidden');\n            $('.user-account').toggleClass('hidden');\n            $('.settings').toggleClass('hidden');\n            $('.support-img').toggleClass('hidden');\n            $('.toolbar-user').toggleClass('user-settings-list');\n        });\n}","frappe.listview_settings['Employee'] = {\n    get_indicator: function (doc) {\n        if (doc.status === \"Active\") {\n            return [__(\"Active\"), \"green\", \"status,=,Active\"];\n\n        } else if (doc.status === \"Iactive\") {\n            return [__(\"Iactive\"), \"dark\", \"status,=,Iactive\"];\n\n        } else if (doc.status === \"Suspended\") {\n            return [__(\"Suspended\"), \"red\", \"status,=,Suspended\"];\n\n        }else if (doc.status === \"On Leave\") {\n            return [__(\"On Leave\"), \"purple\", \"status,=,On Leave\"];\n        }\n    },\n    onload: function (listview) {}\n};","frappe.ui.Page.prototype.add_main_section = function(){\n        $(frappe.render_template(\"page\", {})).appendTo(this.wrapper);\n        if (this.single_column) {\n            // nesting under col-sm-12 for consistency\n            this.add_view(\"main\", '<div class=\"row layout-main\">\\\n\t\t\t\t\t<div class=\"col-md-12 layout-main-section-wrapper\">\\\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\\\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t</div>');\n        } else {\n            this.add_view(\"main\", `\n\t\t\t\t<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-lg-2 layout-side-section\"></div>\n\t\t\t\t\t<div class=\"col layout-main-section-wrapper\">\n                        <div class=\"flex page-actions row my-4 pr-2\"> \n                        <div class=\"col-6 flex widget-boxs justify-content-between\"></div>\n                        <!-- buttons -->\n                        <div class=\"col-5 flex justify-content-end\" style=\"margin-left: auto;\">\n                            <div class=\"custom-actions hide hidden-xs hidden-md\"></div>\n                            <div class=\"standard-actions flex\">\n                                <span class=\"page-icon-group hide hidden-xs hidden-sm\"></span>\n                                <div class=\"menu-btn-group hide\">\n                                    <button type=\"button\" class=\"btn btn-default icon-btn\" data-toggle=\"dropdown\"\n                                        aria-expanded=\"false\">\n                                        <span>\n                                            <span class=\"menu-btn-group-label\">\n                                                <svg class=\"icon icon-sm\">\n                                                    <use xlink:href=\"#icon-dot-horizontal\">\n                                                    </use>\n                                                </svg>\n                                            </span>\n                                        </span>\n                                    </button>\n                                    <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\"></ul>\n                                </div>\n                                <button class=\"btn btn-secondary btn-default btn-sm hide\"></button>\n                                <div class=\"actions-btn-group hide\">\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm\" data-toggle=\"dropdown\"\n                                        aria-expanded=\"false\">\n                                        <span class=\"hidden-xs\">\n                                            <span class=\"actions-btn-group-label\">${__(\"Actions\") }</span>\n                                            <svg class=\"icon icon-xs\">\n                                                <use xlink:href=\"#icon-select\">\n                                                </use>\n                                            </svg>\n                                        </span>\n                                    </button>\n                                    <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n                                    </ul>\n                                </div>\n                                <button class=\"btn btn-primary btn-sm hide primary-action\"></button>\n                            </div>\n                        </div>\n                        \n                        </div>\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`);\n        }\n\n        let current_doc = frappe.get_route()[1]\n        if (current_doc == 'Employee'){\n            async function totalInactive(status) {\n                let total = await frappe.db.get_list('Employee', {filters:{'status': status}})\n                let template = `\n                                <div class=\"status-box ${status == 'Active'? 'active-status': status == 'Inactive'? 'inactive-status': status == 'On Leave'? 'leave-status': 'bg-yellow'}\" >\n                                    <div> \n                                        <p>${status} </p>\n                                        <p style=\"font-size: 18px; font-weight: 800;\"> ${total.length} </p>\n                                    </div>\n                                    <div class=\"status-box-body flex align-items-center justify-content-around\">\n                                        <svg style=\"margin-left:15px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"bi bi-person\" viewBox=\"0 0 16 16\">\n                                            <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\n                                        </svg>\n                                    </div>\n                                </div>\n                                `\n                $('.widget-boxs').prepend(template)\n            }\n            totalInactive('Active')\n            totalInactive('Inactive')\n            totalInactive('Left')\n        }\n        this.setup_page();\n}","$(document).ready(function(){\n    $('a.toggler-btn').on('click', (e) => {\n        $('.layout-side-section').toggleClass('toggle-sidebar');\n        $('.sidebar-item-label').toggleClass('hidden');\n        $('.user-account').toggleClass('hidden');\n        $('.settings').toggleClass('hidden');\n        $('.support-img').toggleClass('hidden');\n        $('.toolbar-user').toggleClass('user-settings-list');\n    });\n})"],"names":["frappe","views","Workspace","prototype","make_sidebar","this","build_sidebar_section","boot","allowed_doctypes","title","items","sidebar_section","$","__","appendTo","const","logo","avatar","session","user_info","user","image","sett","navbar_settings","settings_dropdown","forEach","item","hidden","route","item_label","action","userSettings","userAccount","prepend","append","make_sidebar_category_item","name","get_page_to_show","selected","current_page_name","let","$item","router","slug","utils","icon","label","get_sidebar_item","sidebar_items","sidebar","ListSidebar","make","sidebar_content","render_template","html","page","empty","document","trigger","find","on","toggleClass","ui","form","Sidebar","listview_settings","get_indicator","doc","status","onload","listview","Page","add_main_section","wrapper","single_column","add_view","get_route","async","totalInactive","template","db","get_list","filters","setup_page","ready","e"],"mappings":"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"}