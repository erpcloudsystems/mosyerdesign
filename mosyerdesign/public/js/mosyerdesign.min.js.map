{"version":3,"file":"mosyerdesign.min.js","sources":["../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_workspace.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_list_sidebar.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_form_sidebar.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/employee_list.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/custom_page.js","../../../../apps/mosyerdesign/mosyerdesign/public/js/main.js"],"sourcesContent":["import Widget from \"../../../../frappe/frappe/public/js/frappe/widgets/base_widget\";\n\nconsole.log(frappe.boot.doc_notification, 'ssa');\n\nfrappe.views.Workspace.prototype.make_sidebar = function () {\n    this.build_sidebar_section('category', frappe.boot.allowed_doctypes);\n}\nfrappe.views.Workspace.prototype.build_sidebar_section = function (title, items) {\n    let sidebar_section = $(`<div class=\"standard-sidebar-section\"></div>`);\n\n    // DO NOT REMOVE: Comment to load translation\n    // __(\"Modules\") __(\"Domains\") __(\"Places\") __(\"Administration\")\n    $(`<div class=\"standard-sidebar-label\">${__(title)}</div>`)\n        .appendTo(sidebar_section);\n\n    const avatar = `<a href=\"/app/user/${frappe.session.user_email}\" class=\"desk-sidebar-item standard-sidebar-item \" style=\"border-bottom: 1px solid #eee;\">\n                        <span>\n                            <img src= \"${ frappe.boot.user_info[frappe.session.user].image ? frappe.boot.user_info[frappe.session.user].image : '/assets/mosyerdesign/img/avatar-alt.jpg' }\"\n                            / >\n                        </span>\n                        <span class=\"sidebar-item-label\"> ${ frappe.session.user_fullname }<span>\n                        <p class=\"text-muted\" style=\"font-size: 12px; margin-bottom:0\"> ${frappe.session.user_email}</p>\n                    </a>`;\n    const supportImg = `<div class=\"text-center support-img\"> \n                            <img src=\"/assets/mosyerdesign/img/support.jpg\" alt=\"support image\" style=\"width: 200px; height: 180px\"\n                        </div>\n                        `\n    let sett = ''\n    // User Settings Options \n    frappe.boot.navbar_settings.settings_dropdown.forEach(item => {\n            if (!item.hidden) {\n                if (item.route) {\n                    sett += `<a class=\"dropdown-item\" href=\"${ item.route }\"> ${__(item.item_label)} </a>`\n                }\n                if (item.action) {\n                    sett += `<a class=\"dropdown-item\" onclick=\"return ${item.action }\"> ${__(item.item_label)} </a>`\n                }\n                else {\n                    sett += `<div class=\"dropdown-divider\"></div>`\n                }\n            }\n    })\n    const userSettings = `\n                        <div class=\"nav-item dropdown dropdown-navbar-user dropdown-mobile mb-2\">\n                            <a class=\"nav-link\" style=\"padding-left:12px; margin-top: 10px;\" data-toggle=\"dropdown\"\n                            href=\"#\" onclick=\"return false;\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-three-dots\"\n                                    viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\" />\n                                </svg>\n                                <span class=\"ml-2 settings\" style=\"font-size: 18px;\">${__(\"Settings\")}</span>\n                            </a>\n                            \n                            <div class=\"dropdown-menu dropdown-menu-right\" id=\"toolbar-user\" role=\"menu\" style='max-height: 300px; overflow-y: auto;'>\n                                ${sett}\n                            </div>\n                        </div>\n                        `\n    const userAccount = `\n                         <a class=\"nav-link\"padding-left:12px\" href=\"${frappe.boot.navbar_settings.settings_dropdown[0].route }\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                                <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                            </svg>\n                            <span class=\"ml-2 user-account\" style=\"font-size: 18px;\">${__(\"My Account\")}</span>\n                        </a>\n                        `\n    const toggleBtn = `\n                        <a class=\"toggler-btn text-muted\" position: relative;\">\n                            <img src=\"/assets/mosyerdesign/img/toggler.svg\" />\n                            <span class=\"sidebar-item-label\" style=\"font-size:13px !important; margin-left: 10px; font-weight:600;transition: all .3s ease-in-out !important;\">${__(\"Toggle sidebar\")}</span>\n                        </a>\n                        `\n    \n    sidebar_section.prepend(avatar)\n    $('.overlay-sidebar').append(userSettings)\n    $('.overlay-sidebar').append(supportImg)\n    $('.overlay-sidebar').append(userAccount)\n    $('.overlay-sidebar').append(toggleBtn)\n\n    const get_sidebar_item = function (item) {\n        return $(`\n\t\t\t\t<a href=\"/app/${frappe.router.slug(item.name)}\"\n\t\t\t\t\tclass=\"desk-sidebar-item standard-sidebar-item ${item.selected ? \"selected\" : \"\"}\" >\n\t\t\t\t\t<span>${frappe.utils.icon(item.icon || \"folder-normal\", \"lg\")}</span>\n\t\t\t\t\t<span class=\"sidebar-item-label\">${__(item.label) || __(item.name)}<span>\n\t\t\t\t</a>\n\t\t\t`);\n    };\n\n    const make_sidebar_category_item = item => {\n        if (item.name == this.get_page_to_show()) {\n            item.selected = true;\n            this.current_page_name = item.name;\n        }\n\n        let $item = get_sidebar_item(item);\n\n        $item.appendTo(sidebar_section);\n        this.sidebar_items[item.name] = $item;\n    };\n\n    items.forEach(item => make_sidebar_category_item(item));\n    sidebar_section.appendTo(this.sidebar);\n}\nfrappe.views.Workspace.prototype.make_page = function(page){\n    const $page = new CustomDesktopPage({\n        container: this.body,\n        page_name: page\n    });\n\n    this.pages[page] = $page;\n    return $page;\n}\n\nclass CustomDesktopPage {\n\tconstructor({ container, page_name }) {\n\t\tfrappe.desk_page = this;\n\t\tthis.container = container;\n\t\tthis.page_name = page_name;\n\t\tthis.sections = {};\n\t\tthis.allow_customization = false;\n\t\tthis.reload();\n\t}\n\n\tshow() {\n\t\tfrappe.desk_page = this;\n\t\tthis.page.show();\n\t\tif (this.sections.shortcuts) {\n\t\t\tthis.sections.shortcuts.widgets_list.forEach(wid => {\n\t\t\t\twid.set_actions();\n\t\t\t});\n\t\t}\n\t}\n\n\thide() {\n\t\tthis.page.hide();\n\t}\n\n\treload() {\n\t\tthis.in_customize_mode = false;\n\t\tthis.page && this.page.remove();\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.page = $(`<div class=\"desk-page\" data-page-name=${this.page_name}></div>`);\n\t\tthis.page.append(frappe.render_template('workspace_loading_skeleton'));\n\t\tthis.page.appendTo(this.container);\n\n\t\tthis.get_data().then(() => {\n\t\t\tif (Object.keys(this.data).length == 0) {\n\t\t\t\tdelete localStorage.current_workspace;\n\t\t\t\tfrappe.set_route(\"workspace\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.refresh();\n\t\t}).finally(this.page.find('.workspace_loading_skeleton').remove);\n\t}\n\n\trefresh() {\n\t\tthis.page.empty();\n\t\tthis.allow_customization = this.data.allow_customization || false;\n\n\t\tif (frappe.is_mobile()) {\n\t\t\tthis.allow_customization = false;\n\t\t}\n\n\t\tthis.data.onboarding && this.data.onboarding.items.length && this.make_onboarding();\n\t\tthis.make_shortcuts();\n\n\t\tlet attendanceState = `<div class=\"notification-content bg-white col-lg-7 col-xs-12\" style=\"border-radius: 6px; margin-top: 10px;\"></div>`\n    \tlet chartsContainer = `<div class=\"chart-content-section col-lg-5 col-xs-12\"></div>`\n\n\t\tthis.page.append(`<div class=\"container-fluid row\">\n\t\t\t\t\t\t\t${attendanceState}\n\t\t\t\t\t\t\t${chartsContainer}\n\t\t\t\t\t\t  </div>`)\n\t\tthis.make_charts();\n\t\tthis.make_cards();\n        this.make_notification();\n\t}\n\n\tget_data() {\n\t\treturn frappe.xcall(\"frappe.desk.desktop.get_desktop_page\", {\n\t\t\tpage: this.page_name\n\t\t}).then(data => {\n\t\t\tthis.data = data;\n\t\t\tif (Object.keys(this.data).length == 0) return;\n\n\t\t\treturn frappe.dashboard_utils.get_dashboard_settings().then(settings => {\n\t\t\t\tlet chart_config = settings.chart_config ? JSON.parse(settings.chart_config) : {};\n\t\t\t\tif (this.data.charts.items) {\n\t\t\t\t\tthis.data.charts.items.map(chart => {\n\t\t\t\t\t\tchart.chart_settings = chart_config[chart.chart_name] || {};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tcustomize() {\n\t\tif (this.in_customize_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We need to remove this as the  chart group will be visible during customization\n\t\t$('.widget.onboarding-widget-box').hide();\n\n\t\tObject.keys(this.sections).forEach(section => {\n\t\t\tthis.sections[section].customize();\n\t\t});\n\t\tthis.in_customize_mode = true;\n\n\t}\n\n\tsave_customization() {\n\t\tfrappe.dom.freeze();\n\t\tconst config = {};\n\n\t\tif (this.sections.charts) config.charts = this.sections.charts.get_widget_config();\n\t\tif (this.sections.shortcuts) config.shortcuts = this.sections.shortcuts.get_widget_config();\n\t\tif (this.sections.cards) config.cards = this.sections.cards.get_widget_config();\n\n\t\tfrappe.call('frappe.desk.desktop.save_customization', {\n\t\t\tpage: this.page_name,\n\t\t\tconfig: config\n\t\t}).then(res => {\n\t\t\tfrappe.dom.unfreeze();\n\t\t\tif (res.message) {\n\t\t\t\tfrappe.show_alert({ message: __(\"Customizations Saved Successfully\"), indicator: \"green\" });\n\t\t\t\tthis.reload();\n\t\t\t} else {\n\t\t\t\tfrappe.throw({ message: __(\"Something went wrong while saving customizations\"), indicator: \"red\" });\n\t\t\t\tthis.reload();\n\t\t\t}\n\t\t});\n\t}\n\n\treset_customization() {\n\t\tfrappe.call('frappe.desk.desktop.reset_customization', {\n\t\t\tpage: this.page_name\n\t\t}).then(() => {\n\t\t\tfrappe.show_alert({ message: __(\"Removed page customizations\"), indicator: \"green\" });\n\t\t\tthis.reload();\n\t\t});\n\t}\n\n\tmake_onboarding() {\n\t\tthis.onboarding_widget = frappe.widget.make_widget({\n\t\t\tlabel: this.data.onboarding.label || __(\"Let's Get Started\"),\n\t\t\tsubtitle: this.data.onboarding.subtitle,\n\t\t\tsteps: this.data.onboarding.items,\n\t\t\tsuccess: this.data.onboarding.success,\n\t\t\tdocs_url: this.data.onboarding.docs_url,\n\t\t\tuser_can_dismiss: this.data.onboarding.user_can_dismiss,\n\t\t\twidget_type: 'onboarding',\n\t\t\tcontainer: this.page,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: false,\n\t\t\t\tallow_create: false,\n\t\t\t\tallow_delete: false,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: false,\n\t\t\t\tmax_widget_count: 2,\n\t\t\t}\n\t\t});\n\t}\n\n\tmake_charts() {\n\t\tthis.sections[\"charts\"] = new frappe.widget.WidgetGroup({\n\t\t\tcontainer: this.page.find('.chart-content-section'),\n\t\t\ttype: \"chart\",\n\t\t\tcolumns: 1,\n\t\t\tclass_name: \"widget-charts\",\n\t\t\thidden: Boolean(this.onboarding_widget),\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: this.allow_customization,\n\t\t\t\tallow_delete: this.allow_customization,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: true,\n\t\t\t\tmax_widget_count: 2,\n\t\t\t},\n\t\t\twidgets: this.data.charts.items\n\t\t});\n\t}\n\n\tmake_shortcuts() {\n\t\tthis.sections[\"shortcuts\"] = new frappe.widget.WidgetGroup({\n\t\t\ttitle: this.data.shortcuts.label || __('Your Shortcuts'),\n\t\t\tcontainer: this.page,\n\t\t\ttype: \"shortcut\",\n\t\t\tcolumns: 3,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: this.allow_customization,\n\t\t\t\tallow_delete: this.allow_customization,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: true,\n\t\t\t},\n\t\t\twidgets: this.data.shortcuts.items\n\t\t});\n\t}\n\n\tmake_cards() {\n\t\tlet cards = new frappe.widget.WidgetGroup({\n\t\t\ttitle: this.data.cards.label || __(\"Reports & Masters\"),\n\t\t\tcontainer: this.page,\n\t\t\ttype: \"links\",\n\t\t\tcolumns: 3,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: false,\n\t\t\t\tallow_delete: false,\n\t\t\t\tallow_hiding: this.allow_customization,\n\t\t\t\tallow_edit: false,\n\t\t\t},\n\t\t\twidgets: this.data.cards.items\n\t\t});\n\n\t\tthis.sections[\"cards\"] = cards;\n\t}\n    make_notification(){\n        if (frappe.boot.doc_notification){\n            frappe.boot.doc_notification.map(el => {\n                let notify = `<div class=\"notification-box\">\n                                <h5> ${el.name}</h5>\n                                <h6 class=\"pt-2\"> <span class=\"text-muted\">Date at :</span> ${el.posting_date ? el.posting_date : el.creation.split(' ')[0]} </h6>\n                                <div class=\"user mt-4\">\n                                    <span class=\"user-label\"> ${el.applicant_name ? el.applicant_name : el.employee_name ?  el.employee_name: ''}<span>\n                                </div>\n                            </div>`\n                $(\".notification-content\").append(notify)\n            })\n        }\n    }\n}\n","frappe.views.ListSidebar.prototype.make = function () {\n    var sidebar_content = frappe.render_template(\"list_sidebar\", {\n        allowed_doctypes: frappe.boot.allowed_doctypes\n    });\n\n    this.sidebar = $('<div class=\"list-sidebar overlay-sidebar hidden-xs hidden-sm\"></div>')\n        .html(sidebar_content)\n        .appendTo(this.page.sidebar.empty());\n\n    // do not remove\n    // used to trigger custom scripts\n    $(document).trigger('list_sidebar_setup');\n\n     this.sidebar.find('a.toggler-btn').on('click', () => {\n         $('.layout-side-section').toggleClass('toggle-sidebar');\n         $('.sidebar-item-label').toggleClass('hidden');\n         $('.user-account').toggleClass('hidden');\n         $('.settings').toggleClass('hidden');\n         $('.support-img').toggleClass('hidden');\n         $('.toolbar-user').toggleClass('user-settings-list');\n     });\n}\n","\nfrappe.ui.form.Sidebar.prototype.make = function(){\n    var sidebar_content = frappe.render_template(\"form_sidebar\", {\n        allowed_doctypes: frappe.boot.allowed_doctypes\n    });\n\n    this.sidebar = $('<div class=\"form-sidebar overlay-sidebar hidden-xs hidden-sm\"></div>')\n        .html(sidebar_content)\n        .appendTo(this.page.sidebar.empty());\n        \n        this.sidebar.find('a.toggler-btn').on('click', () => {\n            $('.layout-side-section').toggleClass('toggle-sidebar');\n            $('.sidebar-item-label').toggleClass('hidden');\n            $('.user-account').toggleClass('hidden');\n            $('.settings').toggleClass('hidden');\n            $('.support-img').toggleClass('hidden');\n            $('.toolbar-user').toggleClass('user-settings-list');\n        });\n}","frappe.listview_settings['Employee'] = {\n    get_indicator: function (doc) {\n        if (doc.status === \"Active\") {\n            return [__(\"Active\"), \"green\", \"status,=,Active\"];\n\n        } else if (doc.status === \"Iactive\") {\n            return [__(\"Iactive\"), \"dark\", \"status,=,Iactive\"];\n\n        } else if (doc.status === \"Suspended\") {\n            return [__(\"Suspended\"), \"red\", \"status,=,Suspended\"];\n\n        }else if (doc.status === \"On Leave\") {\n            return [__(\"On Leave\"), \"purple\", \"status,=,On Leave\"];\n        }\n    },\n    onload: function (listview) {}\n};","\nfrappe.ui.Page.prototype.add_main_section = function(){\n        \n        $(frappe.render_template(\"page\", {})).appendTo(this.wrapper);\n        let pageActions = `\n                            <div class=\"container-fluid flex page-actions row my-4 justify-content-between\">\n                                <div class=\"col-md-6 col-xs-12 flex widget-boxs justify-content-between\"></div>\n                                <!-- buttons -->\n                                <div class=\"col-md-5 col-xs-12 actions-btn flex justify-content-end\">\n                                    <div class=\"custom-actions hide hidden-xs hidden-md\"></div>\n                                    <div class=\"standard-actions flex\">\n                                        <span class=\"page-icon-group hide hidden-xs hidden-sm\"></span>\n                                        <div class=\"menu-btn-group hide\">\n                                            <button type=\"button\" class=\"btn btn-default icon-btn\" data-toggle=\"dropdown\"\n                                                aria-expanded=\"false\">\n                                                <span>\n                                                    <span class=\"menu-btn-group-label\">\n                                                        <svg class=\"icon icon-sm\">\n                                                            <use xlink:href=\"#icon-dot-horizontal\">\n                                                            </use>\n                                                        </svg>\n                                                    </span>\n                                                </span>\n                                            </button>\n                                            <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\"></ul>\n                                        </div>\n                                        <button class=\"btn btn-secondary btn-default btn-sm hide\"></button>\n                                        <div class=\"actions-btn-group hide\">\n                                            <button type=\"button\" class=\"btn btn-primary btn-sm\" data-toggle=\"dropdown\"\n                                                aria-expanded=\"false\">\n                                                <span class=\"hidden-xs\">\n                                                    <span class=\"actions-btn-group-label\">${__(\"Actions\") }</span>\n                                                    <svg class=\"icon icon-xs\">\n                                                        <use xlink:href=\"#icon-select\">\n                                                        </use>\n                                                    </svg>\n                                                </span>\n                                            </button>\n                                            <ul class=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n                                            </ul>\n                                        </div>\n                                        <button class=\"btn btn-primary btn-sm hide primary-action\"></button>\n                                    </div>\n                                </div>\n                            </div>\n                            `\n        if (this.single_column) {\n            // nesting under col-sm-12 for consistency\n            this.add_view(\"main\", `<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-md-12 layout-main-section-wrapper\">\n                        ${pageActions}\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`);\n        } else {\n            this.add_view(\"main\", `\n\t\t\t\t<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-lg-2 layout-side-section\"></div>\n\t\t\t\t\t<div class=\"col layout-main-section-wrapper\">\n                        ${pageActions}\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`);\n        }\n\n        let currentDoc = frappe.get_route()[1]\n        let listCurrentDoc = frappe.get_route()[0]\n        if (currentDoc == 'Employee' && listCurrentDoc == 'List'){\n            async function totalInactive(status) {\n                let total = await frappe.db.get_list('Employee', {filters:{'status': status}})\n                let template = `\n                                <div class=\"status-box ${status == 'Active'? 'active-status': status == 'Inactive'? 'inactive-status': status == 'On Leave'? 'leave-status': 'bg-yellow'}\" >\n                                    <div> \n                                        <p>${status} </p>\n                                        <p style=\"font-size: 18px; font-weight: 800;\"> ${total.length} </p>\n                                    </div>\n                                    <div class=\"status-box-body flex align-items-center justify-content-around\">\n                                        <svg style=\"margin-left:15px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"bi bi-person\" viewBox=\"0 0 16 16\">\n                                            <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\n                                        </svg>\n                                    </div>\n                                </div>\n                                `\n                $('.widget-boxs').prepend(template)\n            }\n            totalInactive('Active')\n            totalInactive('Inactive')\n            totalInactive('Left')\n        }\n        this.setup_page();\n}","$(document).ready(function(){\n    let box = $('div.dashboard-widget-box')\n    $('.chart-content').append(box)\n    $('body').addClass('anvil-custom-theme')\n    $('a.toggler-btn').on('click', (e) => {\n        $('.layout-side-section').toggleClass('toggle-sidebar');\n        $('.sidebar-item-label').toggleClass('hidden');\n        $('.user-account').toggleClass('hidden');\n        $('.settings').toggleClass('hidden');\n        $('.support-img').toggleClass('hidden');\n        $('.toolbar-user').toggleClass('user-settings-list');\n    });\n\n    // async function getEmployeeAttendance(){\n    //     let employees = await frappe.db.get_list('Employee', {filters:{'status': 'Active'}})\n    //     let totalEmpPresent = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date()}})\n    //     let absent = await frappe.db.get_list('Attendance', {filters:{'status':'Absent', 'attendance_date':frappe.datetime.now_date()}})\n    //     let earlyLeave = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'early_exit':1}})\n    //     let late = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'late_entry':1}})\n    //     let early = await frappe.db.get_list('Attendance', {filters:{'status':'Present', 'attendance_date':frappe.datetime.now_date(), 'late_entry':0, 'early_exit':0}})\n    //     let totalPresent = `<p style=\"font-weight: 500\"> ${totalEmpPresent.length} Employees Attended out of ${employees.length} </p>`\n    //     let absentBtn =  `<button class=\"btn btn-danger btn-sm\"> Absent <span class=\"count\"> ${absent.length}</span></button>`\n    //     let earlyLeaveBtn = `<button class=\"btn btn-secondary btn-sm\"> Early Leave <span class=\"count\"> ${earlyLeave.length}</span></button>`\n    //     let lateBtn = `<button class=\"btn btn-warning btn-sm\"> Late <span class=\"count\"> ${late.length}</span></button>`\n    //     let earlyBtn = `<button class=\"btn btn-success btn-sm\"> Early <span class=\"count\"> ${early.length}</span></button>`\n        \n    //     $('.attendance-head').append(totalPresent)\n    //     $('.attendance-state').append(earlyBtn)\n    //     $('.attendance-state').append(absentBtn)\n    //     $('.attendance-state').append(lateBtn)\n    //     $('.attendance-state').append(earlyLeaveBtn)\n        \n    // }\n    // getEmployeeAttendance()\n});"],"names":["console","log","frappe","boot","doc_notification","views","Workspace","prototype","make_sidebar","this","build_sidebar_section","allowed_doctypes","title","items","sidebar_section","$","__","appendTo","const","avatar","session","user_info","user","image","sett","navbar_settings","settings_dropdown","forEach","item","hidden","route","item_label","action","userSettings","userAccount","toggleBtn","prepend","append","make_sidebar_category_item","name","get_page_to_show","selected","current_page_name","let","$item","router","slug","utils","icon","label","get_sidebar_item","sidebar_items","sidebar","make_page","page","$page","CustomDesktopPage","container","body","page_name","pages","[object Object]","ref","desk_page","sections","allow_customization","reload","show","shortcuts","widgets_list","wid","set_actions","hide","in_customize_mode","remove","make","render_template","get_data","then","Object","keys","data","length","localStorage","current_workspace","set_route","refresh","finally","find","empty","is_mobile","onboarding","make_onboarding","make_shortcuts","make_charts","make_cards","make_notification","xcall","dashboard_utils","get_dashboard_settings","settings","chart_config","JSON","parse","charts","map","chart","chart_settings","chart_name","section","customize","dom","freeze","config","get_widget_config","cards","call","res","unfreeze","message","show_alert","indicator","throw","onboarding_widget","widget","make_widget","subtitle","steps","success","docs_url","user_can_dismiss","widget_type","options","allow_sorting","allow_create","allow_delete","allow_hiding","allow_edit","max_widget_count","WidgetGroup","type","columns","class_name","Boolean","widgets","el","notify","posting_date","creation","split","applicant_name","employee_name","ListSidebar","sidebar_content","html","document","trigger","on","toggleClass","ui","form","Sidebar","listview_settings","get_indicator","doc","status","onload","listview","Page","add_main_section","wrapper","pageActions","single_column","add_view","currentDoc","get_route","listCurrentDoc","async","totalInactive","template","db","get_list","filters","setup_page","ready","box","addClass","e"],"mappings":"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"}